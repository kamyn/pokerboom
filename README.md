# Техническое задание

## Описание
### Название
PokerBoom
### Предметная область
Онлайн-игра
Веб-приложение для игры в покер. Игровой сервер должен обеспечивать аунтефикацию и авторизацию пользователей приложения, хранение данных о пользователях, выбор игрового стола, поддерживание непосредственно самой игры и ее состояния, а также логирование сыгранных партий.

## Данные
### Ограничения для каждого элемента данных
- Сущность `user` (пользователь):             
`user_id` int primary key auto_increment             
`balance` float (>0)  
`username` varchar(20) not null         
`password_hash` varchar(200)             
`vk_id` varchar(20)          

- Сущность `game` (игра):                
`game_id` int primary key auto_increment   
`table_id` foreign key    
`board_id` foreign key  

- Сущность `table` (игровой стол):               
`table_id` int primary key auto_increment                
`name` varchar(20)                      
`smallblind` int not null (>0)                    

- Сущность `player` (игрок):               
`player_id` int primary key auto_increment               
`user_id` foreign key                      
`game_id` foreign key              
`stack` float not null (>0)             
`seat_place` int not null                  
`first_card` int not null                       
`second_card` int not null                          

- Сущность `board` (карты на игровом столе):                        
`board_id`  int primary key auto_increment             
`card_1` int not null                                 
`card_2` int not null                         
`card_3` int not null                              
`card_4` int not null                          
`card_5` int not null                          

- Сущность `bet` (ставки игроков):                
`game_id` foreign key                    
`player_id` foreign key                          
`round` int not null (>=0)                       
`bet` float not null                       

### Общие ограничения целостности
Общие ограничения целостности должны соответствовать правилам игры, то есть в игре может учавствовать как минимум два человека, у каждого игрока есть только две карманные карты, на столе не может быть меньше пяти карт (даже в случае завершения партии досрочно), ставки игроков должны идти в соответсвии с правилами торгов. Как было написано выше, пользователь без прав не имеет доступа к приложению, а значит не может изменять данные в системе. 

## Пользовательские роли
#### Пользователь
Обычный игрок, имеет возможность взаимодействия с приложение после авторизации. Может создавать игровые столы или присоединяться к ранее созданным, смотреть информацию о своем счете или о счете других игроков.

#### Администратор
Имеет возможность изменять балансы других игроков, создавать или удалять игровые столы, блокировать учетные записи других игроков, а также просматривать сыгранные партии.

## UI/API

- Авторизация: осуществляется для всех пользователей посредством входа через логин и пароль или с помощью стороннего сервиса аунтефикации (VK).
- Выбор игрового стола: для присоединения к игровой сессии задается количество фишек для игры и выбирается игровой стол с нужными ставками.
- Процесс игры: происходит по правилам Техасского Холдем покера. У игрока имеется две карманные карты, согласно правилам в каждом раунде торгов открываются общие карты на столе, а игроки делают ставки.

## Технологии разработки
- Язык программирования: C#
- Веб-фреймворк: ASP.NET Core, Blazor WebAssembly, SignalR
- СУБД: MySQL
- ORM: EntityFramework
